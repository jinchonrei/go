<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="utf-8" />
    <title>Go语言与ajax示例</title>
</head>

<body>
    <p><input id="btn1" type="button" value="按钮" onclick="OnButton1()" /></p>
    <p><input id="txt1" type="text" /></p>
    <script>

        function OnButton1() {
            console.log("sfda");
            var xhr = new XMLHttpRequest();
            xhr.open('get', 'http://127.0.0.1:8787/cmd?cmd=sadfsa', true);
            xhr.send();

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) { // 读取完成
                    if (xhr.status == 200) {
                        var oTxt = document.getElementById('txt1');
                        oTxt.value = xhr.responseText;
                    }
                }
            }
        }
        function main() {
            var oBtn = document.getElementById('btn1');
            oBtn.onclick = OnButton1;
        }


    </script>
</body>

</html>